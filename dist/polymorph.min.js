!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n(r.polymorph={})}("undefined"!=typeof self?self:this,function(r){"use strict"
var _=void 0,z="V",q="H",P="L",j="Z",E="M",L="C",S="S",C="Q",I="T",T="A",p=" ",h="fill",d="none"
function g(r){return"string"==typeof r}function u(r,n){if(g(r))return r
for(var e=[],t=0;t<r.length;t++){var i=r[t]
e.push(E,n(i[0]),n(i[1]),L)
for(var o=void 0,a=2;a<i.length;a+=6){var f=n(i[a]),u=n(i[a+1]),l=n(i[a+2]),c=n(i[a+3]),s=n(i[a+4]),v=n(i[a+5])
f==s&&l==s&&u==v&&c==v&&o==(o=""+f+u+l+c+s+v)||e.push(f,u,l,c,s,v)}}return e.join(p)}function l(r,n){if(g(r))throw new Error("Unsupported render")
for(var e=[],t=0;t<r.length;t++){var i=r[t]
e.push([1,n(i[0]),n(i[1])])
for(var o=void 0,a=2;a<i.length;a+=6){var f=n(i[a]),u=n(i[a+1]),l=n(i[a+2]),c=n(i[a+3]),s=n(i[a+4]),v=n(i[a+5])
f==s&&l==s&&u==v&&c==v&&o==(o=""+f+u+l+c+s+v)||e.push([4,f,u,l,c,s,v])}}return e}var n=Math,$=n.abs,c=n.min,y=n.max,s=n.floor,e=n.round,F=n.sqrt,t=n.pow,H=n.cos,O=n.asin,Q=n.sin,U=n.tan,V=n.PI,Z=2/3,f=t(2,-52)
function k(){throw new Error(Array.prototype.join.call(arguments,p))}function x(r,n){for(var e in n)r.hasOwnProperty(e)||(r[e]=n[e])
return r}var i="undefined"!=typeof window&&window.navigator.userAgent,o=/(MSIE |Trident\/|Edge\/)/i.test(i)?Array:Float32Array
function m(r){return new o(r)}function v(r,n,e,t){return F((r-e)*(r-e)+(n-t)*(n-t))}function w(r,n,e){var t=e.length
if(e[t-2]===e[0]&&e[t-1]===e[1]){var i,o,a=e.slice(2)
t=a.length
for(var f=0;f<t;f+=6){var u=v(r,n,a[f],a[f+1]);(o===_||u<o)&&(o=u,i=f)}!function(r,n){var e,t=r.length,i=t-n,o=m(n)
for(e=0;e<n;e++)o[e]=r[e]
for(e=n;e<t;e++)r[e-n]=r[e]
for(e=0;e<n;e++)r[i+e]=o[e]}(a,i),e[0]=a[t-2],e[1]=a[t-1]
for(f=0;f<a.length;f++)e[f+2]=a[f]}}function A(r,n){var e=n-r.length,t=Math.ceil(e/r.length),i=m(n)
i[0]=r[0],i[1]=r[1]
for(var o=1,a=1;a<n-1;){i[++a]=r[++o],i[++a]=r[++o],i[++a]=r[++o],i[++a]=r[++o]
var f=i[++a]=r[++o],u=i[++a]=r[++o]
if(e)for(var l=0;l<t&&e;l++)i[a+5]=i[a+3]=i[a+1]=f,i[a+6]=i[a+4]=i[a+2]=u,a+=6,e-=6}return i}function a(r,n){return n.p-r.p}function M(r,n,e){var t=b(r),i=b(n),o=e.origin,a=o.x,f=o.y,u=o.absolute
t.length!==i.length&&(e.optimize===h?function r(n,e,t){var i=n.length,o=e.length
if(i<o)return r(e,n,t)
e.length=i
for(var a=o;a<i;a++){for(var f=n[a],u=m(f.d.length),l=0;l<f.d.length;l+=2)u[l]=t.absolute?t.x:f.x+f.w*t.x,u[l+1]=t.absolute?t.y:f.y+f.y*t.y
e[a]=x({d:u},f)}}(t,i,e.origin):k("optimize:none requires equal lengths"))
var l=Array(2)
if(l[0]=t.map(N),l[1]=i.map(N),e.optimize!==d)for(var c=0;c<t.length;c++){var s=t[c],v=i[c]
w(u?a:s.x+s.w*a,u?f:s.y+s.h*f,l[0][c]),w(u?a:v.x+v.w*a,u?f:v.y+v.h*f,l[1][c])}return e.optimize===h&&function(r,n){for(var e=r[0].length,t=0;t<e;t++){var i=r[0][t],o=r[1][t],a=y(i.length+n,o.length+n)
r[0][t]=A(i,a),r[1][t]=A(o,a)}}(l,6*e.addPoints),l}function b(r){return r.data.slice().sort(a)}function N(r){return r.d}var B={addPoints:0,optimize:h,origin:{x:0,y:0},precision:0}
function D(r,i){i=x(i,B),r&&2<=r.length||k("invalid arguments")
for(var o=r.length-1,a=Array(o),n=0;n<o;n++)a[n]=G(r[n],r[n+1],i)
var f=i.precision?function(r){return r.toFixed(i.precision)}:e
return function(r){var n=o*r,e=c(s(n),o-1),t=a[e]((n-e)/(e+1))
return(i.renderAsAltLayer?l:u)(t,f)}}function G(t,i,r){var o=M(t,i,r),a=o[0].length
return function(r){if($(r-0)<f)return t.path
if($(r-1)<f)return i.path
for(var n=Array(a),e=0;e<a;e++)n[e]=J(o[0][e],o[1][e],r)
return n}}function J(r,n,e){for(var t=r.length,i=m(t),o=0;o<t;o++)i[o]=r[o]+(n[o]-r[o])*e
return i}function K(r,n){return r===_?n:r}var R=120*V/180,W=2*V
function X(r,n,e,t,i,o,a,f,u,l,c,s,v){if(e<=0||t<=0)return[r,n,f,u,f,u]
var p,h=V/180*(+i||0),d=H(h),g=Q(h),y=!!l
if(!y){var x=r,m=f,w=((r=x*d-n*-g)-(f=m*d-u*-g))/2,A=((n=x*-g+n*d)-(u=m*-g+u*d))/2,M=w*w/(e*e)+A*A/(t*t)
1<M&&(e*=M=F(M),t*=M)
var b=(o===a?-1:1)*F($((e*e*t*t-e*e*A*A-t*t*w*w)/(e*e*A*A+t*t*w*w)))
s=b*e*A/t+(r+f)/2,l=O((n-(v=b*-t*w/e+(n+u)/2))/t),c=O((u-v)/t),r<s&&(l=V-l),f<s&&(c=V-c),l<0&&(l+=W),c<0&&(c+=W),a&&c<l&&(l-=W),!a&&l<c&&(c-=W)}if($(c-l)>R){var N=c,z=f,q=u
p=X(f=s+e*H(c=l+R*(a&&l<c?1:-1)),u=v+t*Q(c),e,t,i,0,a,z,q,c,N,s,v)}else p=[]
var P=4/3*U((c-l)/4)
if(p.splice(0,0,2*r-(r+P*e*Q(l)),2*n-(n-P*t*H(l)),f+P*e*Q(c),u-P*t*H(c),f,u),!y)for(var j=0,E=p.length;j<E;j+=2){var L=p[j],S=p[j+1]
p[j]=L*d-S*g,p[j+1]=L*g+S*d}return p}var Y={M:2,H:1,V:1,L:2,Z:0,C:6,S:4,Q:4,T:2,A:7}
function rr(r,n,e,t,i,o,a){var f=r.x,u=r.y
r.x=K(o,f),r.y=K(a,u),r.p.push(K(n,f),e=K(e,u),t=K(t,f),i=K(i,u),r.x,r.y),r.lc=r.c}function nr(r){var n=r.c,e=r.t,t=r.x,i=r.y
if(n===z)e[0]+=i
else if(n===q)e[0]+=t
else if(n===T)e[5]+=t,e[6]+=i
else for(var o=0;o<e.length;o+=2)e[o]+=t,e[o+1]+=i}function er(r){return r.split(p).map(tr)}function tr(r,n){return 0===n?r:+r}function ir(r){for(var n={x:0,y:0,s:[]},e=r.replace(/[\^\s]*([mhvlzcsqta]|\-?\d*\.?\d+)[,\$\s]*/gi," $1").replace(/([mhvlzcsqta])/gi," $1").trim().split("  ").map(er),t=0;t<e.length;t++){var i=e[t],o=i[0],a=o.toUpperCase(),f=a!==j&&a!==o
n.c=a
var u=Y[a],l=i,c=1
do{n.t=1===l.length?l:l.slice(c,c+u),f&&nr(n)
var s=n.t,v=n.x,p=n.y,h=void 0,d=void 0,g=void 0,y=void 0,x=void 0,m=void 0
if(a===E)n.s.push(n.p=[n.x=s[0],n.y=s[1]])
else if(a===q)rr(n,_,_,_,_,s[0],_)
else if(a===z)rr(n,_,_,_,_,_,s[0])
else if(a===P)rr(n,_,_,_,_,s[0],s[1])
else if(a===j)rr(n,_,_,_,_,n.p[0],n.p[1])
else if(a===L)rr(n,s[0],s[1],s[2],s[3],s[4],s[5]),n.cx=s[2],n.cy=s[3]
else if(a===S){var w=n.lc!==S&&n.lc!==L
rr(n,h=w?_:2*v-n.cx,d=w?_:2*p-n.cy,s[0],s[1],s[2],s[3]),n.cx=s[0],n.cy=s[1]}else if(a===C){var A=s[0],M=s[1]
g=s[2],y=s[3],rr(n,v+(A-v)*Z,p+(M-p)*Z,g+(A-g)*Z,y+(M-y)*Z,g,y),n.cx=A,n.cy=M}else if(a===I)g=s[0],y=s[1],n.lc===C||n.lc===I?(h=v+(2*v-n.cx-v)*Z,d=p+(2*p-n.cy-p)*Z,x=g+(2*v-n.cx-g)*Z,m=y+(2*p-n.cy-y)*Z):(h=x=v,d=m=p),rr(n,h,d,x,m,g,y),n.cx=x,n.cy=m
else if(a===T)for(var b=X(v,p,s[0],s[1],s[2],s[3],s[4],s[5],s[6]),N=0;N<b.length;N+=6)rr(n,b[N],b[N+1],b[N+2],b[N+3],b[N+4],b[N+5])
else k(n.c," is not supported")
c+=u}while(c<l.length)}return n.s}function or(r){for(var n=r.length,e=r[n-2],t=r[n-1],i=0,o=0;o<n;o+=6)i+=v(r[o],r[o+1],e,t),e=r[o],t=r[o+1]
return s(i)}function ar(r){for(var n=r[0],e=r[1],t=e,i=n,o=2;o<r.length;o+=6){var a=r[o+4],f=r[o+5]
n=c(n,a),i=y(i,a),e=c(e,f),t=y(t,f)}return{d:r,x:n,y:e,w:i-n,h:t-e,p:or(r)}}var fr=/^([#|\.]|path)/i
function ur(r){return{path:n=function(r){if(g(r)){if(!fr.test(r))return r
r=document.querySelector(r)}return r.getAttribute("d")}(r),data:ir(n).map(ar)}
var n}function lr(r){for(var n=r.id,e=r.path,t=[],i=[],o=[],a=0,f=e.length;a<f;a++){var u=e[a],l=1===u[0]
if(7===u[0])break
var c=u[1],s=u[2],v=isNaN(u[3])?c:u[3],p=isNaN(u[4])?s:u[4],h=isNaN(u[5])?c:u[5],d=isNaN(u[6])?s:u[6]
l?(o.push(c,s),t.push(c),i.push(s)):(o.push(c,s,v,p,h,d),t.push(c,v,h),i.push(s,p,d))}var g=0,y=0,x=0,m=0
return 0<o.length&&(g=Math.min.apply(null,t),y=Math.min.apply(null,i),x=Math.max.apply(null,t),m=Math.max.apply(null,i)),{path:n,data:[{d:o,x:g,y:y,w:x-g,h:m-y,p:or(o)}]}}r.interpolate=function(r,n){return D(r.map(ur),n||{})},r.altInterpolate=function(r,n,e){return void 0===e&&(e={}),e.renderAsAltLayer=!0,D([lr(r),lr(n)],e)},Object.defineProperty(r,"__esModule",{value:!0})})
